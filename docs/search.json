[
  {
    "objectID": "cdcdata-exercise/cdcdata-exercise.html",
    "href": "cdcdata-exercise/cdcdata-exercise.html",
    "title": "Data Analysis Exercise",
    "section": "",
    "text": "When I first downloaded my data in, the size of the file was 33 MB large. R was unable to load the file so I decided to import the data. After importing the data, I wrote the code beloww to reduce the size of the to 1000 observations. I created the reduced set name (reduced_data) and cleaned the data with the following code.\n#This chunk only works in the R terminal as I cannot figure out how it will work within the qmd file.\nlibrary(readr)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\noriginal_data &lt;- read_csv(\"Nutrition__Physical_Activity__and_Obesity_-_Behavioral_Risk_Factor_Surveillance_System_20240207.csv\")\n\nRows: 1000 Columns: 33\n\n\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (25): LocationAbbr, LocationDesc, Datasource, Class, Topic, Question, Da...\ndbl  (7): YearStart, YearEnd, Data_Value, Data_Value_Alt, Low_Confidence_Lim...\nlgl  (1): Data_Value_Unit\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# Define the desired number of rows to include in the reduced dataset\ndesired_rows &lt;- 1000  # Adjust this number as needed\n\n# Select a random subset of rows\nreduced_data &lt;- original_data %&gt;% \n  sample_n(desired_rows)\n\n# Write the reduced dataset to a new CSV file\nwrite_csv(reduced_data, \"Nutrition__Physical_Activity__and_Obesity_-_Behavioral_Risk_Factor_Surveillance_System_20240207.csv\")\n\n# Retrieve the full column specification\ncolumn_spec &lt;- spec(reduced_data)\ncolumn_spec\n\ncols(\n  YearStart = col_double(),\n  YearEnd = col_double(),\n  LocationAbbr = col_character(),\n  LocationDesc = col_character(),\n  Datasource = col_character(),\n  Class = col_character(),\n  Topic = col_character(),\n  Question = col_character(),\n  Data_Value_Unit = col_logical(),\n  Data_Value_Type = col_character(),\n  Data_Value = col_double(),\n  Data_Value_Alt = col_double(),\n  Data_Value_Footnote_Symbol = col_character(),\n  Data_Value_Footnote = col_character(),\n  Low_Confidence_Limit = col_double(),\n  High_Confidence_Limit = col_double(),\n  Sample_Size = col_double(),\n  Total = col_character(),\n  `Age(years)` = col_character(),\n  Education = col_character(),\n  Gender = col_character(),\n  Income = col_character(),\n  `Race/Ethnicity` = col_character(),\n  GeoLocation = col_character(),\n  ClassID = col_character(),\n  TopicID = col_character(),\n  QuestionID = col_character(),\n  DataValueTypeID = col_character(),\n  LocationID = col_character(),\n  StratificationCategory1 = col_character(),\n  Stratification1 = col_character(),\n  StratificationCategoryId1 = col_character(),\n  StratificationID1 = col_character()\n)\nI, then, created code to clean the data removing misssing values and changing them to NA.\nlibrary(readr)\nlibrary(dplyr)\n\n# Display the structure of the data\nstr(reduced_data)\n\nspc_tbl_ [1,000 × 33] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ YearStart                 : num [1:1000] 2014 2011 2012 2012 2021 ...\n $ YearEnd                   : num [1:1000] 2014 2011 2012 2012 2021 ...\n $ LocationAbbr              : chr [1:1000] \"IA\" \"LA\" \"OR\" \"WV\" ...\n $ LocationDesc              : chr [1:1000] \"Iowa\" \"Louisiana\" \"Oregon\" \"West Virginia\" ...\n $ Datasource                : chr [1:1000] \"Behavioral Risk Factor Surveillance System\" \"Behavioral Risk Factor Surveillance System\" \"Behavioral Risk Factor Surveillance System\" \"Behavioral Risk Factor Surveillance System\" ...\n $ Class                     : chr [1:1000] \"Obesity / Weight Status\" \"Physical Activity\" \"Obesity / Weight Status\" \"Physical Activity\" ...\n $ Topic                     : chr [1:1000] \"Obesity / Weight Status\" \"Physical Activity - Behavior\" \"Obesity / Weight Status\" \"Physical Activity - Behavior\" ...\n $ Question                  : chr [1:1000] \"Percent of adults aged 18 years and older who have an overweight classification\" \"Percent of adults who achieve at least 300 minutes a week of moderate-intensity aerobic physical activity or 15\"| __truncated__ \"Percent of adults aged 18 years and older who have an overweight classification\" \"Percent of adults who engage in no leisure-time physical activity\" ...\n $ Data_Value_Unit           : logi [1:1000] NA NA NA NA NA NA ...\n $ Data_Value_Type           : chr [1:1000] \"Value\" \"Value\" \"Value\" \"Value\" ...\n $ Data_Value                : num [1:1000] 36.3 22 39.6 29.7 21.3 34.1 36.7 24.8 35.8 27.1 ...\n $ Data_Value_Alt            : num [1:1000] 36.3 22 39.6 29.7 21.3 34.1 36.7 24.8 35.8 27.1 ...\n $ Data_Value_Footnote_Symbol: chr [1:1000] NA NA NA NA ...\n $ Data_Value_Footnote       : chr [1:1000] NA NA NA NA ...\n $ Low_Confidence_Limit      : num [1:1000] 34.9 18.9 36.9 26 19.5 31.9 35 23.3 32.3 21.7 ...\n $ High_Confidence_Limit     : num [1:1000] 37.8 25.4 42.4 33.7 23.1 36.5 38.4 26.3 39.5 33.3 ...\n $ Sample_Size               : num [1:1000] 7071 1263 2102 689 3498 ...\n $ Total                     : chr [1:1000] NA NA NA NA ...\n $ Age(years)                : chr [1:1000] NA \"35 - 44\" NA \"35 - 44\" ...\n $ Education                 : chr [1:1000] NA NA NA NA ...\n $ Gender                    : chr [1:1000] NA NA \"Male\" NA ...\n $ Income                    : chr [1:1000] NA NA NA NA ...\n $ Race/Ethnicity            : chr [1:1000] \"Non-Hispanic White\" NA NA NA ...\n $ GeoLocation               : chr [1:1000] \"(42.469400913, -93.816490556)\" \"(31.312660644, -92.445680071)\" \"(44.567449424, -120.155031326)\" \"(38.665510202, -80.712640135)\" ...\n $ ClassID                   : chr [1:1000] \"OWS\" \"PA\" \"OWS\" \"PA\" ...\n $ TopicID                   : chr [1:1000] \"OWS1\" \"PA1\" \"OWS1\" \"PA1\" ...\n $ QuestionID                : chr [1:1000] \"Q037\" \"Q045\" \"Q037\" \"Q047\" ...\n $ DataValueTypeID           : chr [1:1000] \"VALUE\" \"VALUE\" \"VALUE\" \"VALUE\" ...\n $ LocationID                : chr [1:1000] \"19\" \"22\" \"41\" \"54\" ...\n $ StratificationCategory1   : chr [1:1000] \"Race/Ethnicity\" \"Age (years)\" \"Gender\" \"Age (years)\" ...\n $ Stratification1           : chr [1:1000] \"Non-Hispanic White\" \"35 - 44\" \"Male\" \"35 - 44\" ...\n $ StratificationCategoryId1 : chr [1:1000] \"RACE\" \"AGEYR\" \"GEN\" \"AGEYR\" ...\n $ StratificationID1         : chr [1:1000] \"RACEWHT\" \"AGEYR3544\" \"MALE\" \"AGEYR3544\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   YearStart = col_double(),\n  ..   YearEnd = col_double(),\n  ..   LocationAbbr = col_character(),\n  ..   LocationDesc = col_character(),\n  ..   Datasource = col_character(),\n  ..   Class = col_character(),\n  ..   Topic = col_character(),\n  ..   Question = col_character(),\n  ..   Data_Value_Unit = col_logical(),\n  ..   Data_Value_Type = col_character(),\n  ..   Data_Value = col_double(),\n  ..   Data_Value_Alt = col_double(),\n  ..   Data_Value_Footnote_Symbol = col_character(),\n  ..   Data_Value_Footnote = col_character(),\n  ..   Low_Confidence_Limit = col_double(),\n  ..   High_Confidence_Limit = col_double(),\n  ..   Sample_Size = col_double(),\n  ..   Total = col_character(),\n  ..   `Age(years)` = col_character(),\n  ..   Education = col_character(),\n  ..   Gender = col_character(),\n  ..   Income = col_character(),\n  ..   `Race/Ethnicity` = col_character(),\n  ..   GeoLocation = col_character(),\n  ..   ClassID = col_character(),\n  ..   TopicID = col_character(),\n  ..   QuestionID = col_character(),\n  ..   DataValueTypeID = col_character(),\n  ..   LocationID = col_character(),\n  ..   StratificationCategory1 = col_character(),\n  ..   Stratification1 = col_character(),\n  ..   StratificationCategoryId1 = col_character(),\n  ..   StratificationID1 = col_character()\n  .. )\n - attr(*, \"problems\")=&lt;externalptr&gt; \n\n# Check for missing values\nmissing_values &lt;- sum(is.na(reduced_data))\ncat(\"Number of missing values in the dataset:\", missing_values, \"\\n\")\n\nNumber of missing values in the dataset: 8310 \n\n# Replace missing values (if coded as 999) with NA\nreduced_data &lt;- reduced_data %&gt;%\n  mutate_all(~ ifelse(. == 999, NA, .))\nIn order to view only a few variables in the data out of the 33 available, I decided that Class, Question, the data value attached to the question, education income and race/ethnicity were pertinent variables. Geographical location was kept as a separate viariable to analyze.\n# Select a few variables for analysis (e.g., first 5 variables)\nselected_variables &lt;- reduced_data %&gt;%\n  select(LocationDesc, Class, Question, Data_Value, Education, Income, `Race/Ethnicity`)\n\n# Display summary statistics for selected variables\nsummary(selected_variables)\n\n LocationDesc          Class             Question           Data_Value   \n Length:1000        Length:1000        Length:1000        Min.   : 4.60  \n Class :character   Class :character   Class :character   1st Qu.:24.12  \n Mode  :character   Mode  :character   Mode  :character   Median :30.80  \n                                                          Mean   :31.02  \n                                                          3rd Qu.:36.48  \n                                                          Max.   :66.40  \n                                                          NA's   :98     \n  Education            Income          Race/Ethnicity    \n Length:1000        Length:1000        Length:1000       \n Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character\nTo explore the data further, I ran code to assess the distribution of categorical variables below.\nlibrary(dplyr)\nlibrary(ggplot2)\n# Perform exploratory analysis\n# Summary table for categorical variables with percentages\ncategorical_summary &lt;- reduced_data %&gt;%\n  summarize(\n    LocationDesc_percent = n_distinct(LocationDesc) / n() * 100,\n    Class_percent = n_distinct(Class) / n() * 100,\n    Question_percent = n_distinct(Question) / n() * 100,\n    Education_percent = n_distinct(Education) / n() * 100,\n    Income_percent = n_distinct(Income) / n() * 100,\n    Race_Ethnicity_percent = n_distinct(`Race/Ethnicity`) / n() * 100\n  )\n\n# Summary statistics for continuous variable\ncontinuous_summary &lt;- reduced_data %&gt;%\n  summarize(\n    Data_Value_mean = mean(Data_Value, na.rm = TRUE),\n    Data_Value_sd = sd(Data_Value, na.rm = TRUE)\n  )\n\n# Print summary tables\nprint(\"Summary Table for Categorical Variables:\")\n\n[1] \"Summary Table for Categorical Variables:\"\n\nprint(categorical_summary)\n\n# A tibble: 1 × 6\n  LocationDesc_percent Class_percent Question_percent Education_percent\n                 &lt;dbl&gt;         &lt;dbl&gt;            &lt;dbl&gt;             &lt;dbl&gt;\n1                  5.5           0.3              0.9               0.5\n# ℹ 2 more variables: Income_percent &lt;dbl&gt;, Race_Ethnicity_percent &lt;dbl&gt;\n\ncat(\"\\n\")\nprint(\"Summary Table for Continuous Variables:\")\n\n[1] \"Summary Table for Continuous Variables:\"\n\nprint(continuous_summary)\n\n# A tibble: 1 × 2\n  Data_Value_mean Data_Value_sd\n            &lt;dbl&gt;         &lt;dbl&gt;\n1            31.0          10.2\nHere, I created a plot to show the ditribution of data by physical activity class and filtered out the question “Percent engaging in no leisure-time physical activity” to look at the distibution of data within this class and question.\nlibrary(dplyr)\n\nphysical_activity_data &lt;- reduced_data %&gt;%\n  filter(Class == \"Physical Activity\")\n\nphysical_activity_no_leisure_data &lt;- reduced_data %&gt;%\n  filter(Class == \"Physical Activity\" & \n         Question == \"Percent of adults who engage in no leisure-time physical activity\")\n\nlibrary(ggplot2)\n\n# Summary table for categorical variables\ncategorical_summary &lt;- physical_activity_no_leisure_data %&gt;%\n  summarise(across(c(LocationDesc, Education, Income, `Race/Ethnicity`), ~round(mean(.)*100, 2))) %&gt;%\n  rename(LocationDesc_Percentage = LocationDesc,\n         Education_Percentage = Education,\n         Income_Percentage = Income,\n         Race_Ethnicity_Percentage = `Race/Ethnicity`)\n\nWarning: There were 4 warnings in `summarise()`.\nThe first warning was:\nℹ In argument: `across(...)`.\nCaused by warning in `mean.default()`:\n! argument is not numeric or logical: returning NA\nℹ Run `dplyr::last_dplyr_warnings()` to see the 3 remaining warnings.\n\nprint(\"Summary of Categorical Variables:\")\n\n[1] \"Summary of Categorical Variables:\"\n\nprint(categorical_summary)\n\n# A tibble: 1 × 4\n  LocationDesc_Percentage Education_Percentage Income_Percentage\n                    &lt;dbl&gt;                &lt;dbl&gt;             &lt;dbl&gt;\n1                      NA                   NA                NA\n# ℹ 1 more variable: Race_Ethnicity_Percentage &lt;dbl&gt;\n\n# Histogram and summary statistics for the continuous variable Data_Value\nggplot(physical_activity_no_leisure_data, aes(x = Data_Value)) +\n  geom_histogram(binwidth = 5, fill = \"skyblue\", color = \"black\", alpha = 0.7) +\n  labs(title = \"Distribution of Percentages of Adults\\nEngaging in No Leisure-Time Physical Activity\",\n       x = \"Percentage of Adults\",\n       y = \"Frequency\") +\n  theme_minimal()\n\nWarning: Removed 21 rows containing non-finite values (`stat_bin()`).\n\n\n\n\n\n\n\n\nmean_data_value &lt;- mean(physical_activity_no_leisure_data$Data_Value)\nsd_data_value &lt;- sd(physical_activity_no_leisure_data$Data_Value)\n\nprint(\"Summary of Continuous Variable (Data_Value):\")\n\n[1] \"Summary of Continuous Variable (Data_Value):\"\n\nprint(paste(\"Mean:\", round(mean_data_value, 2)))\n\n[1] \"Mean: NA\"\n\nprint(paste(\"Standard Deviation:\", round(sd_data_value, 2)))\n\n[1] \"Standard Deviation: NA\""
  },
  {
    "objectID": "cdcdata-exercise/cdcdata-exercise.html#this-section-was-contributed-by-erick-mollinedo",
    "href": "cdcdata-exercise/cdcdata-exercise.html#this-section-was-contributed-by-erick-mollinedo",
    "title": "Data Analysis Exercise",
    "section": "This section was contributed by Erick Mollinedo",
    "text": "This section was contributed by Erick Mollinedo\n\nCreating the dataset\nFor this part I only used the following packages:\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.0\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(purrr)\nlibrary(gtsummary)\n\nI am assuming that the cleaned dataset is listed as selected_variables. The summaries of all the variables (except the Data_Value variable) were not clear, since there were a lot of NAs, so I decided to produce a summary of the unclear variables. This part summarizes all the values from each categorical variable.\n\n#List all the values of the `Location_Desc` variable, using `unique()` and list them ascending using `sort()`\nunique(selected_variables$LocationDesc) %&gt;% sort()\n\n [1] \"Alabama\"              \"Alaska\"               \"Arizona\"             \n [4] \"Arkansas\"             \"California\"           \"Colorado\"            \n [7] \"Connecticut\"          \"Delaware\"             \"District of Columbia\"\n[10] \"Florida\"              \"Georgia\"              \"Guam\"                \n[13] \"Hawaii\"               \"Idaho\"                \"Illinois\"            \n[16] \"Indiana\"              \"Iowa\"                 \"Kansas\"              \n[19] \"Kentucky\"             \"Louisiana\"            \"Maine\"               \n[22] \"Maryland\"             \"Massachusetts\"        \"Michigan\"            \n[25] \"Minnesota\"            \"Mississippi\"          \"Missouri\"            \n[28] \"Montana\"              \"National\"             \"Nebraska\"            \n[31] \"Nevada\"               \"New Hampshire\"        \"New Jersey\"          \n[34] \"New Mexico\"           \"New York\"             \"North Carolina\"      \n[37] \"North Dakota\"         \"Ohio\"                 \"Oklahoma\"            \n[40] \"Oregon\"               \"Pennsylvania\"         \"Puerto Rico\"         \n[43] \"Rhode Island\"         \"South Carolina\"       \"South Dakota\"        \n[46] \"Tennessee\"            \"Texas\"                \"Utah\"                \n[49] \"Vermont\"              \"Virgin Islands\"       \"Virginia\"            \n[52] \"Washington\"           \"West Virginia\"        \"Wisconsin\"           \n[55] \"Wyoming\"             \n\n#List all the values of the `Class` variable, using `unique()` and list them ascending using `sort()`\nunique(selected_variables$Class) %&gt;% sort()\n\n[1] \"Fruits and Vegetables\"   \"Obesity / Weight Status\"\n[3] \"Physical Activity\"      \n\n#List all the values of the `Question` variable, using `unique()` and list them ascending using `sort()`\nunique(selected_variables$Question) %&gt;% sort()\n\n[1] \"Percent of adults aged 18 years and older who have an overweight classification\"                                                                                                                                                                      \n[2] \"Percent of adults aged 18 years and older who have obesity\"                                                                                                                                                                                           \n[3] \"Percent of adults who achieve at least 150 minutes a week of moderate-intensity aerobic physical activity or 75 minutes a week of vigorous-intensity aerobic activity (or an equivalent combination)\"                                                 \n[4] \"Percent of adults who achieve at least 150 minutes a week of moderate-intensity aerobic physical activity or 75 minutes a week of vigorous-intensity aerobic physical activity and engage in muscle-strengthening activities on 2 or more days a week\"\n[5] \"Percent of adults who achieve at least 300 minutes a week of moderate-intensity aerobic physical activity or 150 minutes a week of vigorous-intensity aerobic activity (or an equivalent combination)\"                                                \n[6] \"Percent of adults who engage in muscle-strengthening activities on 2 or more days a week\"                                                                                                                                                             \n[7] \"Percent of adults who engage in no leisure-time physical activity\"                                                                                                                                                                                    \n[8] \"Percent of adults who report consuming fruit less than one time daily\"                                                                                                                                                                                \n[9] \"Percent of adults who report consuming vegetables less than one time daily\"                                                                                                                                                                           \n\n#List all the values of the `Education` variable, using `unique()` and list them ascending using `sort()`\nunique(selected_variables$Education) %&gt;% sort()\n\n[1] \"College graduate\"                 \"High school graduate\"            \n[3] \"Less than high school\"            \"Some college or technical school\"\n\n#List all the values of the `Income` variable, using `unique()` and list them ascending using `sort()`\nunique(selected_variables$Income) %&gt;% sort()\n\n[1] \"$15,000 - $24,999\"  \"$25,000 - $34,999\"  \"$35,000 - $49,999\" \n[4] \"$50,000 - $74,999\"  \"$75,000 or greater\" \"Data not reported\" \n[7] \"Less than $15,000\" \n\n#List all the values of the `Race/Ethnicity` variable, using `unique()` and list them ascending using `sort()`\nunique(selected_variables$`Race/Ethnicity`) %&gt;% sort()\n\n[1] \"2 or more races\"               \"American Indian/Alaska Native\"\n[3] \"Asian\"                         \"Hawaiian/Pacific Islander\"    \n[5] \"Hispanic\"                      \"Non-Hispanic Black\"           \n[7] \"Non-Hispanic White\"            \"Other\"                        \n\n\nNow, estimating the percent of each value per each variable, using the table() and prop.table() functions.\n\n#`Location_Desc`\nfreq_location &lt;- table(selected_variables$LocationDesc)\npercent_location &lt;- prop.table(freq_location) * 100\nprint(percent_location)\n\n\n             Alabama               Alaska              Arizona \n                 2.2                  2.1                  2.0 \n            Arkansas           California             Colorado \n                 1.4                  2.2                  1.9 \n         Connecticut             Delaware District of Columbia \n                 2.1                  2.0                  1.9 \n             Florida              Georgia                 Guam \n                 1.7                  2.7                  1.2 \n              Hawaii                Idaho             Illinois \n                 1.7                  2.9                  2.5 \n             Indiana                 Iowa               Kansas \n                 1.3                  1.5                  1.2 \n            Kentucky            Louisiana                Maine \n                 1.7                  2.4                  2.4 \n            Maryland        Massachusetts             Michigan \n                 1.6                  2.4                  2.7 \n           Minnesota          Mississippi             Missouri \n                 2.0                  1.6                  2.1 \n             Montana             National             Nebraska \n                 1.3                  1.6                  1.2 \n              Nevada        New Hampshire           New Jersey \n                 1.1                  2.7                  1.6 \n          New Mexico             New York       North Carolina \n                 2.2                  1.2                  0.9 \n        North Dakota                 Ohio             Oklahoma \n                 2.5                  2.1                  1.8 \n              Oregon         Pennsylvania          Puerto Rico \n                 2.3                  2.7                  1.2 \n        Rhode Island       South Carolina         South Dakota \n                 1.8                  1.0                  1.9 \n           Tennessee                Texas                 Utah \n                 2.3                  2.1                  1.6 \n             Vermont       Virgin Islands             Virginia \n                 1.8                  0.6                  1.4 \n          Washington        West Virginia            Wisconsin \n                 1.0                  1.1                  1.8 \n             Wyoming \n                 1.8 \n\n#`Class`\nfreq_class &lt;- table(selected_variables$Class)\npercent_class &lt;- prop.table(freq_class) * 100\nprint(percent_class)\n\n\n  Fruits and Vegetables Obesity / Weight Status       Physical Activity \n                    8.9                    36.5                    54.6 \n\n#`Question`\nfreq_question &lt;- table(selected_variables$Question)\npercent_question &lt;- prop.table(freq_question) * 100\nprint(percent_question)\n\n\n                                                                                                                                                                      Percent of adults aged 18 years and older who have an overweight classification \n                                                                                                                                                                                                                                                 19.2 \n                                                                                                                                                                                           Percent of adults aged 18 years and older who have obesity \n                                                                                                                                                                                                                                                 17.3 \n                                                 Percent of adults who achieve at least 150 minutes a week of moderate-intensity aerobic physical activity or 75 minutes a week of vigorous-intensity aerobic activity (or an equivalent combination) \n                                                                                                                                                                                                                                                  8.4 \nPercent of adults who achieve at least 150 minutes a week of moderate-intensity aerobic physical activity or 75 minutes a week of vigorous-intensity aerobic physical activity and engage in muscle-strengthening activities on 2 or more days a week \n                                                                                                                                                                                                                                                  9.6 \n                                                Percent of adults who achieve at least 300 minutes a week of moderate-intensity aerobic physical activity or 150 minutes a week of vigorous-intensity aerobic activity (or an equivalent combination) \n                                                                                                                                                                                                                                                  8.9 \n                                                                                                                                                             Percent of adults who engage in muscle-strengthening activities on 2 or more days a week \n                                                                                                                                                                                                                                                  8.8 \n                                                                                                                                                                                    Percent of adults who engage in no leisure-time physical activity \n                                                                                                                                                                                                                                                 18.9 \n                                                                                                                                                                                Percent of adults who report consuming fruit less than one time daily \n                                                                                                                                                                                                                                                  3.5 \n                                                                                                                                                                           Percent of adults who report consuming vegetables less than one time daily \n                                                                                                                                                                                                                                                  5.4 \n\n#`Education`\nfreq_education &lt;- table(selected_variables$Education)\npercent_education &lt;- prop.table(freq_education) * 100\nprint(percent_education)\n\n\n                College graduate             High school graduate \n                        29.45205                         21.23288 \n           Less than high school Some college or technical school \n                        25.34247                         23.97260 \n\n#`Income`\nfreq_income &lt;- table(selected_variables$Income)\npercent_income &lt;- prop.table(freq_income) * 100\nprint(percent_income)\n\n\n $15,000 - $24,999  $25,000 - $34,999  $35,000 - $49,999  $50,000 - $74,999 \n          13.07692           15.00000           15.00000           13.46154 \n$75,000 or greater  Data not reported  Less than $15,000 \n          13.07692           13.46154           16.92308 \n\n#`Race/Ethnicity`\nfreq_race &lt;- table(selected_variables$`Race/Ethnicity`)\npercent_race &lt;- prop.table(freq_race) * 100\nprint(percent_race)\n\n\n              2 or more races American Indian/Alaska Native \n                     15.30612                      12.92517 \n                        Asian     Hawaiian/Pacific Islander \n                     11.90476                      13.26531 \n                     Hispanic            Non-Hispanic Black \n                     11.56463                      12.24490 \n           Non-Hispanic White                         Other \n                     11.90476                      10.88435 \n\n\nFirst, I set a seed for reproducibility and then I defined the number of observations for this dataset\n\nset.seed(123)\n\n#Defined 60 as the number of observations (n=60 wildland firefighters)\nn_behavior &lt;- 1000\n\nHere, creating the empty data frame behavior_data with the seven previously explored variables.\n\nbehavior_data &lt;- data.frame(\n  Location_Desc = character(n_behavior),\n  Class = character(n_behavior),\n  Question = character(n_behavior),\n  Data_Value = numeric(n_behavior),\n  Education = character(n_behavior),\n  Income = character(n_behavior),\n  `Race/Ethnicity` = character(n_behavior)\n)\n\nAnd here I fill each variable with their respective values\n\n#`Location_Desc`: First I created a list from all unique locations seen above.\nunique_location &lt;- unique(selected_variables$LocationDesc)\nunique_location_list &lt;- as.list(unique_location)\n\n#And then estimating the probability for each value\nprob_location &lt;- 1 / length(unique_location_list)\n\n#Then I created the variable, estimating the probability for each location to be similar for each location\nbehavior_data$Location_Desc &lt;- map_chr(sample(unique_location_list, n_behavior, replace = T, prob = rep(prob_location, length(unique_location_list))), as.character)\n\n#`Class`:\nbehavior_data$Class &lt;- map_chr(sample(c(\"Fruits and Vegetables\", \"Obesity/Weight Status\", \"Physical Activity\"), n_behavior, replace = T, prob = c(0.09, 0.36, 0.55)), as.character)\n\n#`Question`: For this variable I also used the same steps from the `Location_Des` variable\nunique_question &lt;- unique(selected_variables$Question)\nunique_question_list &lt;- as.list(unique_question)\nprob_question &lt;- 1 / length(unique_question_list)\n\nbehavior_data$Question &lt;- map_chr(sample(unique_question_list, n_behavior, replace = T, prob = rep(prob_question, length(unique_question_list))), as.character)\n\n#`Data_Value`: Setting the mean and SD.\nbehavior_data$Data_Value &lt;- round(rnorm(n_behavior, mean = 31.0163, sd = 10.15591), 1)\n\n#`Education`: Reflecting the approximate percent for each value\nbehavior_data$Education &lt;- map_chr(sample(c(\"College graduate\", \"High school graduate\", \"Less than high school\", \"Some college or technical school\"), n_behavior, replace = T, prob = c(0.30, 0.21, 0.25, 0.24)), as.character)\n\n#`Income`: Reflecting the approximate percent for each value\nbehavior_data$Income &lt;- map_chr(sample(c(\"$15,000 - $24,999\", \"$25,000 - $34,999\", \"$35,000 - $49,999\", \"$50,000 - $74,999\", \"$75,000 or greater\", \"Data not reported\", \"Less than $15,000\"), n_behavior, replace = T, prob = c(0.13, 0.15, 0.15, 0.13, 0.13, 0.14, 0.17)), as.character)\n\n#`Race/Ethnicity`: Also reflecting the most accurate probabilities for each value\nbehavior_data$Race.Ethnicity &lt;- map_chr(sample(c(\"2 or more races\", \"American Indian/Alaska Native\", \"Asian\", \"Hawaiian/Pacific Islander\", \"Hispanic\", \"Non-Hispanic Black\", \"Non-Hispanic White\", \"Other\"), n_behavior, replace = T, prob = c(0.15, 0.13, 0.12, 0.13, 0.12, 0.12, 0.12, 0.11)), as.character)\n\nThe dataframe is ready to do the summarization/exploration.\n\n\nData exploration/summarization\nFirst I summarized the Data_Value variable using a barplot to observe where the average values are located. Then, producinga a summary of the mean, median, min, max and the IQR.\n\n#Using `ggplot()` and `geom_histogram()` to plot the values of `Data_Value`\nggplot(behavior_data, aes(x= Data_Value))+\n  geom_histogram()+\n  theme_bw()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n#Produce a summary of the new dataframe using the `summary()` function\nsummary(behavior_data$Data_Value)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   0.10   24.40   30.70   30.99   37.90   64.40 \n\n\nBased on the plot and the summary, it looks like this variable was correctly recreated. However, there are some missing values from the original dataset and these were not considered.\nNow I produced a table that summarizes the other 6 categorical variables.\n\n#Using the `tbl_summary()` function to produce a frequency summary of the 6 categorical variables from the cleaned dataset\ncat_summary &lt;- behavior_data %&gt;% \n  select(Location_Desc, Class, Question, Education, Income, Race.Ethnicity) %&gt;% \n  tbl_summary() %&gt;% \n  bold_labels()\n\ncat_summary\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nN = 1,0001\n\n\n\n\nLocation_Desc\n\n\n\n\n    Alabama\n15 (1.5%)\n\n\n    Alaska\n16 (1.6%)\n\n\n    Arizona\n21 (2.1%)\n\n\n    Arkansas\n15 (1.5%)\n\n\n    California\n16 (1.6%)\n\n\n    Colorado\n23 (2.3%)\n\n\n    Connecticut\n20 (2.0%)\n\n\n    Delaware\n17 (1.7%)\n\n\n    District of Columbia\n13 (1.3%)\n\n\n    Florida\n19 (1.9%)\n\n\n    Georgia\n23 (2.3%)\n\n\n    Guam\n19 (1.9%)\n\n\n    Hawaii\n22 (2.2%)\n\n\n    Idaho\n21 (2.1%)\n\n\n    Illinois\n19 (1.9%)\n\n\n    Indiana\n21 (2.1%)\n\n\n    Iowa\n19 (1.9%)\n\n\n    Kansas\n25 (2.5%)\n\n\n    Kentucky\n10 (1.0%)\n\n\n    Louisiana\n17 (1.7%)\n\n\n    Maine\n25 (2.5%)\n\n\n    Maryland\n21 (2.1%)\n\n\n    Massachusetts\n25 (2.5%)\n\n\n    Michigan\n17 (1.7%)\n\n\n    Minnesota\n16 (1.6%)\n\n\n    Mississippi\n18 (1.8%)\n\n\n    Missouri\n26 (2.6%)\n\n\n    Montana\n17 (1.7%)\n\n\n    National\n18 (1.8%)\n\n\n    Nebraska\n12 (1.2%)\n\n\n    Nevada\n19 (1.9%)\n\n\n    New Hampshire\n18 (1.8%)\n\n\n    New Jersey\n20 (2.0%)\n\n\n    New Mexico\n24 (2.4%)\n\n\n    New York\n21 (2.1%)\n\n\n    North Carolina\n20 (2.0%)\n\n\n    North Dakota\n10 (1.0%)\n\n\n    Ohio\n20 (2.0%)\n\n\n    Oklahoma\n15 (1.5%)\n\n\n    Oregon\n15 (1.5%)\n\n\n    Pennsylvania\n22 (2.2%)\n\n\n    Puerto Rico\n18 (1.8%)\n\n\n    Rhode Island\n10 (1.0%)\n\n\n    South Carolina\n13 (1.3%)\n\n\n    South Dakota\n18 (1.8%)\n\n\n    Tennessee\n16 (1.6%)\n\n\n    Texas\n16 (1.6%)\n\n\n    Utah\n19 (1.9%)\n\n\n    Vermont\n16 (1.6%)\n\n\n    Virgin Islands\n14 (1.4%)\n\n\n    Virginia\n17 (1.7%)\n\n\n    Washington\n20 (2.0%)\n\n\n    West Virginia\n23 (2.3%)\n\n\n    Wisconsin\n12 (1.2%)\n\n\n    Wyoming\n18 (1.8%)\n\n\nClass\n\n\n\n\n    Fruits and Vegetables\n83 (8.3%)\n\n\n    Obesity/Weight Status\n367 (37%)\n\n\n    Physical Activity\n550 (55%)\n\n\nQuestion\n\n\n\n\n    Percent of adults aged 18 years and older who have an overweight classification\n115 (12%)\n\n\n    Percent of adults aged 18 years and older who have obesity\n99 (9.9%)\n\n\n    Percent of adults who achieve at least 150 minutes a week of moderate-intensity aerobic physical activity or 75 minutes a week of vigorous-intensity aerobic activity (or an equivalent combination)\n98 (9.8%)\n\n\n    Percent of adults who achieve at least 150 minutes a week of moderate-intensity aerobic physical activity or 75 minutes a week of vigorous-intensity aerobic physical activity and engage in muscle-strengthening activities on 2 or more days a week\n113 (11%)\n\n\n    Percent of adults who achieve at least 300 minutes a week of moderate-intensity aerobic physical activity or 150 minutes a week of vigorous-intensity aerobic activity (or an equivalent combination)\n114 (11%)\n\n\n    Percent of adults who engage in muscle-strengthening activities on 2 or more days a week\n105 (11%)\n\n\n    Percent of adults who engage in no leisure-time physical activity\n125 (13%)\n\n\n    Percent of adults who report consuming fruit less than one time daily\n123 (12%)\n\n\n    Percent of adults who report consuming vegetables less than one time daily\n108 (11%)\n\n\nEducation\n\n\n\n\n    College graduate\n287 (29%)\n\n\n    High school graduate\n221 (22%)\n\n\n    Less than high school\n277 (28%)\n\n\n    Some college or technical school\n215 (22%)\n\n\nIncome\n\n\n\n\n    $15,000 - $24,999\n116 (12%)\n\n\n    $25,000 - $34,999\n170 (17%)\n\n\n    $35,000 - $49,999\n150 (15%)\n\n\n    $50,000 - $74,999\n128 (13%)\n\n\n    $75,000 or greater\n136 (14%)\n\n\n    Data not reported\n138 (14%)\n\n\n    Less than $15,000\n162 (16%)\n\n\nRace.Ethnicity\n\n\n\n\n    2 or more races\n145 (15%)\n\n\n    American Indian/Alaska Native\n130 (13%)\n\n\n    Asian\n121 (12%)\n\n\n    Hawaiian/Pacific Islander\n137 (14%)\n\n\n    Hispanic\n113 (11%)\n\n\n    Non-Hispanic Black\n119 (12%)\n\n\n    Non-Hispanic White\n126 (13%)\n\n\n    Other\n109 (11%)\n\n\n\n1 n (%)\n\n\n\n\n\n\n\n\nBased on the table above it is seen that the percentage for each value for each category is what it was expected.\nAlthough the synthetic data (behavior_data) is very similar to the original selected_variables dataset, it is missing the NA values. Another line of code would be necessary to include the percentage of NAs in the Data_Value, Education, Income and Race.Ethnicity variables."
  }
]